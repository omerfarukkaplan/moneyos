<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body{
  margin:0;
  font-family:Inter;
  background:#0f172a;
  color:white;
}

nav{
  background:#0c0f1c;
  padding:20px;
  display:flex;
  justify-content:space-between;
}

.card{
  margin:40px;
  padding:30px;
  background:#1e293b;
  border-radius:15px;
}
button{
  padding:10px 20px;
  background:#00f5d4;
  border:none;
  border-radius:8px;
  cursor:pointer;
}
</style>
</head>

<body>

<nav>
  <h3>MoneyOS Dashboard</h3>
  <button onclick="logout()">Logout</button>
</nav>

<div class="card">
  <h2 id="userEmail"></h2>
  <p>Welcome to your premium revenue system.</p>
</div>

<script>
const supabaseUrl = "https://ugjydppmolsxlkohhlkm.supabase.co"
const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVnanlkcHBtb2xzeGxrb2hobGttIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyNTk0MDksImV4cCI6MjA4NjgzNTQwOX0.4DjiNkm2WCErx19wzFvtIA7zL8AFSFXmyugcZGK3KyM"
const { createClient } = supabase
const client = createClient(supabaseUrl, supabaseKey)

async function checkUser(){
  const { data } = await client.auth.getUser()

  if(!data.user){
    window.location.href="index.html"
  } else {
    document.getElementById("userEmail").innerText =
      "Logged in as: "+data.user.email
  }
}

async function logout(){
  await client.auth.signOut()
  window.location.href="index.html"
}

checkUser()
</script>

</body>
</html>